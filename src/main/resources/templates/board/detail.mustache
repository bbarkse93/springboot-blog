{{> /layout/header}}

<div class="container p-5">

    <!-- ë²„íŠ¼ 3ê°œ ìš°ì¸¡ì •ë ¬ -->
    {{#pageOwner}}
    <div class="d-flex justify-content-end m-1">
        <button type="button" class="btn btn-outline-info m-1"><a href="/">ëŒì•„ê°€ê¸°</a></button>
        <a class="btn btn-outline-warning m-1" href="/board/{{dtos.0.boardId}}/updateForm">ìˆ˜ì •</a>
        <form action="/board/{{dtos.0.boardId}}/delete" method="post">
            <button type="submit" class="btn btn-outline-danger m-1">ì‚­ì œ</button>
        </form>
        {{! buttonì˜ íƒ€ì…ì€ ê¸°ë³¸ê°’ì´ í¼íƒœê·¸ ì•ˆì— ìˆìœ¼ë©´ submitì´ê³  í¼ íƒœê·¸ ë°–ì— ìˆìœ¼ë©´ buttonì´ë‹¤. }}
    </div>
    {{/pageOwner}}
    {{^pageOwner}}
    <div class="d-flex justify-content-end m-1">
        <button type="button" class="btn btn-outline-info m-1"><a href="/">ëŒì•„ê°€ê¸°</a></button>
    </div>
    {{/pageOwner}}

    <!-- ë©”ì¸ -->
    <div class="card">
        <div class="card-body">
            <!-- ê¸€ì“´ì´ ì •ë³´ -->
            {{#board}}
            <div class="d-flex justify-content-between">
                <div class="d-flex justify-content-start">
                    <div class="mx-1">{{id}}</div>
                </div>
                <div class="d-flex justify-content-end">
                    <div class="mx-1">{{userName}}</div>

                </div>
            </div>
            <hr>
            {{/board}}
            <!-- ì œëª© -->
            <h3>{{dtos.0.boardTitle}}</h3>
            <hr>
            <!-- ë‚´ìš© -->
            <h5>{{dtos.0.boardContent}}</h5>
        </div>

        <!-- ëŒ“ê¸€ -->
        <div class="card">
            <div class="card-header"><b>ëŒ“ê¸€</b></div>
            <form action="/reply/save" method="post">
                <input type="hidden" name="boardId" value="{{dtos.0.boardId}}">
                <div class="d-flex">
                    <textarea class="form-control mx-3 mt-3 flex-grow-2" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" rows="1"
                        name="comment"></textarea>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary m-3">ë“±ë¡</button>
                </div>
            </form>

            <div class="card-footer bg-white"><b>ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸</b>
                <hr />
                {{#dtos}}
                {{#replyUserId}}
                <ul class="list-group list-group-flush">
                    <!-- ëŒ“ê¸€ ì•„ì´í…œ-->
                    <div>ì‘ì„±ì: {{replyUserUsername}}</div>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>{{replyComment}}</div>
                        {{#replyOwner}}
                        <form action="/reply/{{replyId}}/delete" method="post">
                            <input type="hidden" name="boardId" value="{{boardId}}">
                            <button type="submit" class="btn" onclick="replyRemove">ğŸ—‘</button>
                        </form>
                        {{/replyOwner}}
                    </li>

                </ul>
                <hr />
                {{/replyUserId}}
                {{/dtos}}
            </div>
        </div>
    </div>
</div>


{{> /layout/footer}}